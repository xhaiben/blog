typeof DUOSHUO!=="undefined"?hookTemplate():($("#duoshuo-script")[0].onload=hookTemplate);function hookTemplate(){var A=DUOSHUO.templates.post;DUOSHUO.templates.post=function(D,G){var B=A(D,G);var F=D.post.agent;var C=D.post.author.user_id;var E="";if(C&&(C==CONFIG.duoshuo.userId)){E='<span class="duoshuo-ua-admin">'+CONFIG.duoshuo.author+"</span>"}if(F&&/^Mozilla/.test(F)){B=B.replace(/<\/div><p>/,E+getAgentInfo(F)+"</div><p>")}return B}}function getAgentInfo(H){$.ua.set(H);var F="Unknown";var J=$.ua;var C=E()?"<br><br>":'<span class="duoshuo-ua-separator"></span>';var A=J.os.name||F;var M=J.os.version||F;var G=J.browser.name||F;var L=J.browser.version||F;var D={os:{android:"android",linux:"linux",windows:"windows",ios:"apple","mac os":"apple",unknown:"desktop"},browser:{chrome:"chrome",chromium:"chrome",firefox:"firefox",opera:"opera",safari:"safari",ie:"internet-explorer",wechat:"wechat",qq:"qq",unknown:"globe"}};var K=D.os[A.toLowerCase()];var I=D.browser[B()];return C+'<span class="duoshuo-ua-platform duoshuo-ua-platform-'+A.toLowerCase()+'"><i class="fa fa-'+K+'"></i>'+A+" "+M+"</span>"+C+'<span class="duoshuo-ua-browser duoshuo-ua-browser-'+G.toLowerCase()+'"><i class="fa fa-'+I+'"></i>'+G+" "+L+"</span>";function B(){var N=G.toLowerCase();if(N.match(/WeChat/i)){return"wechat"}if(N.match(/QQBrowser/i)){return"qq"}return N}function E(){var O=window.navigator.userAgent;var N=O.match(/iPad/i)!==null;var Q=["iphone","android","phone","mobile","wap","netfront","x11","java","opera mobi","opera mini","ucweb","windows ce","symbian","symbianos","series","webos","sony","blackberry","dopod","nokia","samsung","palmsource","xda","pieplus","meizu","midp","cldc","motorola","foma","docomo","up.browser","up.link","blazer","helio","hosin","huawei","novarra","coolpad","webos","techfaith","palmsource","alcatel","amoi","ktouch","nexian","ericsson","philips","sagem","wellcom","bunjalloo","maui","smartphone","iemobile","spice","bird","zte-","longcos","pantech","gionee","portalmmm","jig browser","hiptop","benq","haier","^lct","320x320","240x320","176x220"];var P=new RegExp(Q.join("|"),"i");return !N&&O.match(P)}};