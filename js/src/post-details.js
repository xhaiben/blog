$(document).ready(function(){B();NexT.utils.needAffix()&&A();D();function B(){var E=".post-toc";var H=$(E);var G=".active-current";H.on("activate.bs.scrollspy",function(){var I=$(E+" .active").last();F();I.addClass("active-current")}).on("clear.bs.scrollspy",F);$("body").scrollspy({target:E});function F(){$(E+" "+G).removeClass(G.substring(1))}}function A(){var G=$(".header-inner").height();var F=parseInt($(".main").css("padding-bottom"),10);var E=G+10;$(".sidebar-inner").affix({offset:{top:E,bottom:F}});$(document).on("affixed.bs.affix",function(){C(document.body.clientHeight-100)})}function D(){var F;$(window).on("resize",function(){F&&clearTimeout(F);F=setTimeout(function(){var G=document.body.clientHeight-100;C(G)},0)});C(document.body.clientHeight-100);var E=NexT.utils.getScrollbarWidth();$(".post-toc").css("width","calc(100% + "+E+"px)")}function C(E){E=E||"auto";$(".post-toc").css("max-height",E)}});$(document).ready(function(){var A=$("html");var C=200;var B=$.isFunction(A.velocity);$(".sidebar-nav li").on("click",function(){var E=$(this);var D="sidebar-nav-active";var H="sidebar-panel-active";if(E.hasClass(D)){return}var G=$("."+H);var F=$("."+E.data("target"));B?G.velocity("transition.slideUpOut",C,function(){F.velocity("stop").velocity("transition.slideDownIn",C).addClass(H)}):G.animate({opacity:0},C,function(){G.hide();F.stop().css({"opacity":0,"display":"block"}).animate({opacity:1},C,function(){G.removeClass(H);F.addClass(H)})});E.siblings().removeClass(D);E.addClass(D)});$(".post-toc a").on("click",function(E){E.preventDefault();var F=NexT.utils.escapeSelector(this.getAttribute("href"));var D=$(F).offset().top;B?A.velocity("stop").velocity("scroll",{offset:D+"px",mobileHA:false}):$("html, body").stop().animate({scrollTop:D},500)});NexT.motion.middleWares.sidebar=function(){var D=$(".post-toc-content");if(CONFIG.sidebar.display==="post"||CONFIG.sidebar.display==="always"){if(D.length>0&&D.html().trim().length>0){NexT.utils.displaySidebar()}}}});